import{b as y,o as F,c as D,a as i}from"./chunks/framework.9fab0263.js";const B=i("",30),b=[B],m=JSON.parse('{"title":"防抖（Debounce）和节流（Throttle）","description":"","frontmatter":{},"headers":[],"relativePath":"fe/concept/debounce-throttle.md","lastUpdated":1716978866000}'),u={name:"fe/concept/debounce-throttle.md"},f=Object.assign(u,{setup(A){var t={debounce:function(s,n,l){var a;return function(){var o=l||this,e=arguments,p=function(){a=null,s.apply(o,e)};clearTimeout(a),a=setTimeout(p,n)}},throttle:function(s,n,l){n||(n=250);var a,o;return function(){var e=l||this,p=+new Date,c=arguments;a&&p<a+n?(clearTimeout(o),o=setTimeout(function(){a=p,s.apply(e,c)},n)):(a=p,s.apply(e,c))}}};function r(){this.canvas=document.getElementById("paintonme"),this.context=this.canvas.getContext("2d"),this.movearea=document.getElementById("moveonme"),this.showbox=document.getElementById("showbox"),this.canvasTimeScale=5*1e3,this.paintColors=["#bbd","#464","#d88"],this.totalLanes=this.paintColors.length,this.leftMargin=100;var s=this;this.init=function(){this.canvas.width=this.showbox.clientWidth,this.flush(),/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)?(this.movearea.addEventListener("touchmove",this.regularHandler),this.movearea.addEventListener("touchmove",t.debounce(s.debounceHandler,100,this)),this.movearea.addEventListener("touchmove",t.throttle(s.throttleHander,100,this))):(this.movearea.addEventListener("mousemove",this.regularHandler),this.movearea.addEventListener("mousemove",t.debounce(s.debounceHandler,100,this)),this.movearea.addEventListener("mousemove",t.throttle(s.throttleHander,100,this)))},this.paintRect=function(n,l){l>this.canvasTimeScale&&(this.startTime+=l,l=0,this.flush()),this.context.fillStyle=this.paintColors[n];var a=(this.canvas.width-this.leftMargin)/this.canvasTimeScale*l+this.leftMargin,o=this.canvas.height/this.totalLanes*n,e=this.canvas.height/this.totalLanes,p=1;this.context.fillRect(a,o,p,e)},this.flush=function(){this.context.fillStyle="#ffffff",this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.context.font="200 18px Roboto,Helvetica,Arial",this.context.fillStyle=this.paintColors[0],this.context.fillText("Regular",0,60),this.context.fillStyle=this.paintColors[1],this.context.fillText("Debounce",0,180),this.context.fillStyle=this.paintColors[2],this.context.fillText("Throttle",0,300)},this.getTimeDiff=function(){var n=new Date().getTime();return this.startTime||(this.startTime=n),n-=this.startTime,n},this.regularHandler=function(){s.paintRect(0,s.getTimeDiff())},this.debounceHandler=function(){s.paintRect(1,s.getTimeDiff())},this.throttleHander=function(){s.paintRect(2,s.getTimeDiff())}}return y(()=>{var s=new r;s.init()}),(s,n)=>(F(),D("div",null,b))}});export{m as __pageData,f as default};
